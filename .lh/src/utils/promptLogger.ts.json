{
    "sourceFile": "src/utils/promptLogger.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1755247362265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1755247362265,
            "name": "Commit-0",
            "content": "interface TokenInfo {\n  promptTokens: number;\n  completionTokens: number;\n  totalTokens: number;\n}\n\ninterface PromptLogInfo {\n  templateId: string;\n  userInput: string;\n  combinedPrompt: string;\n  tokenInfo?: TokenInfo;\n}\n\n// í† í°ë‹¹ ë¹„ìš© (KRW)\nconst TOKEN_COSTS = {\n  prompt: 0.001,     // ì…ë ¥ í† í°ë‹¹ 0.001ì›\n  completion: 0.002  // ì¶œë ¥ í† í°ë‹¹ 0.002ì›\n};\n\n// ANSI ìƒ‰ìƒ ì½”ë“œ\nconst colors = {\n  reset: '\\x1b[0m',\n  bright: '\\x1b[1m',\n  dim: '\\x1b[2m',\n  underscore: '\\x1b[4m',\n  blink: '\\x1b[5m',\n  reverse: '\\x1b[7m',\n  hidden: '\\x1b[8m',\n  \n  black: '\\x1b[30m',\n  red: '\\x1b[31m',\n  green: '\\x1b[32m',\n  yellow: '\\x1b[33m',\n  blue: '\\x1b[34m',\n  magenta: '\\x1b[35m',\n  cyan: '\\x1b[36m',\n  white: '\\x1b[37m',\n  \n  bgBlack: '\\x1b[40m',\n  bgRed: '\\x1b[41m',\n  bgGreen: '\\x1b[42m',\n  bgYellow: '\\x1b[43m',\n  bgBlue: '\\x1b[44m',\n  bgMagenta: '\\x1b[45m',\n  bgCyan: '\\x1b[46m',\n  bgWhite: '\\x1b[47m'\n};\n\nexport const logPromptInfo = (info: PromptLogInfo) => {\n  console.group(`${colors.bright}${colors.cyan}ğŸ¤– AI Chat Log${colors.reset}`);\n  \n  // í…œí”Œë¦¿ ID\n  console.log(`${colors.yellow}Template ID:${colors.reset} ${info.templateId}`);\n  \n  // ì‚¬ìš©ì ì…ë ¥\n  console.log(`${colors.yellow}User Input:${colors.reset} ${info.userInput}`);\n  \n  // ê²°í•©ëœ í”„ë¡¬í”„íŠ¸ (ì ‘ì—ˆë‹¤ í¼ ìˆ˜ ìˆê²Œ)\n  console.groupCollapsed(`${colors.yellow}Combined Prompt:${colors.reset}`);\n  console.log(info.combinedPrompt);\n  console.groupEnd();\n  \n  // í† í° ì •ë³´ê°€ ìˆëŠ” ê²½ìš°\n  if (info.tokenInfo) {\n    const { promptTokens, completionTokens, totalTokens } = info.tokenInfo;\n    \n    // ë¹„ìš© ê³„ì‚°\n    const promptCost = promptTokens * TOKEN_COSTS.prompt;\n    const completionCost = completionTokens * TOKEN_COSTS.completion;\n    const totalCost = promptCost + completionCost;\n    \n    console.group(`${colors.yellow}Token Usage & Cost:${colors.reset}`);\n    console.log(`${colors.green}Prompt Tokens:${colors.reset} ${promptTokens.toLocaleString()} (â‚©${promptCost.toFixed(2)})`);\n    console.log(`${colors.green}Completion Tokens:${colors.reset} ${completionTokens.toLocaleString()} (â‚©${completionCost.toFixed(2)})`);\n    console.log(`${colors.green}Total Tokens:${colors.reset} ${totalTokens.toLocaleString()}`);\n    console.log(`${colors.bright}${colors.green}Total Cost:${colors.reset} â‚©${totalCost.toFixed(2)}`);\n    console.groupEnd();\n  }\n  \n  console.groupEnd();\n};\n\n// í† í° ìˆ˜ë¥¼ ëŒ€ëµì ìœ¼ë¡œ ì¶”ì •í•˜ëŠ” í•¨ìˆ˜\nexport const estimateTokens = (text: string): number => {\n  // ì˜ì–´ ê¸°ì¤€ìœ¼ë¡œ ë‹¨ì–´ ë‹¹ ì•½ 1.3 í† í°\n  // í•œê¸€ì€ ê¸€ì ë‹¹ ì•½ 2~3 í† í°\n  const words = text.split(/\\s+/).length;\n  const koreanChars = (text.match(/[\\u3131-\\u314e\\u314f-\\u3163\\uac00-\\ud7a3]/g) || []).length;\n  \n  return Math.ceil(words * 1.3 + koreanChars * 2.5);\n};\n"
        }
    ]
}